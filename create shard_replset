mkdir -p /data/db/local_replset/mongodb/shard_replset-0 /data/db/local_replset/mongodb/shard_replset-1 /data/db/local_replset/mongodb/shard_replset-2
mkdir -p /data/db/local_replset/mongodb/shard_replset-0-logs /data/db/local_replset/mongodb/shard_replset-1-logs /data/db/local_replset/mongodb/shard_replset-2-logs


mongod --port 33017 --replSet Chris_local_shard_replset --dbpath /data/db/local_replset/mongodb/shard_replset-0 --logpath /data/db/local_replset/mongodb/shard_replset-0-logs/log0.log --fork
mongod --port 33018 --replSet Chris_local_shard_replset --dbpath /data/db/local_replset/mongodb/shard_replset-1 --logpath /data/db/local_replset/mongodb/shard_replset-1-logs/log1.log --fork
mongod --port 33019 --replSet Chris_local_shard_replset --dbpath /data/db/local_replset/mongodb/shard_replset-2 --logpath /data/db/local_replset/mongodb/shard_replset-2-logs/log2.log --fork

ps -ef | grep "Chris_local_shard_replset"

mongo --port 33017

rs.initiate()

rs.conf()
# this should show just the PRIMARY sitting by itself

rs.add("Ubuntu_Test_Server:33018")
rs.add("Ubuntu_Test_Server:33019")
rs.status()
# this should show a replica set working





#now add a new member to the sharded replset

mkdir -p /data/db/local_replset/mongodb/shard_replset-3 
mkdir -p /data/db/local_replset/mongodb/shard_replset-3-logs 
mongod --port 33020 --replSet Chris_local_shard_replset --dbpath /data/db/local_replset/mongodb/shard_replset-3 --logpath /data/db/local_replset/mongodb/shard_replset-3-logs/log3.log --fork
mongo --port 33017
rs.add("Ubuntu_Test_Server:33020")
rs.status()

